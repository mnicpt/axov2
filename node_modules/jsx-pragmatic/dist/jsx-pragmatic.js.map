{"version":3,"sources":["webpack://pragmatic/webpack/universalModuleDefinition","webpack://pragmatic/webpack/bootstrap","webpack://pragmatic/./src/constants.js","webpack://pragmatic/./src/node.js","webpack://pragmatic/./src/util.js","webpack://pragmatic/./src/renderers/dom.js","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://pragmatic/./src/renderers/react.js","webpack://pragmatic/./src/renderers/html.js","webpack://pragmatic/./src/renderers/preact.js","webpack://pragmatic/./src/renderers/index.js","webpack://pragmatic/./src/index.js"],"names":["NODE_TYPE","ELEMENT","TEXT","COMPONENT","FRAGMENT","renderChildren","children","renderer","result","child","renderedChild","render","Array","isArray","subchild","push","ElementNode","name","props","type","onRender","el","FragmentNode","TextNode","text","ComponentNode","component","renderComponent","normalizeChild","normalizeChildren","TypeError","length","node","element","Fragment","Object","keys","Error","ALPHA_CHARS","uniqueID","replace","charAt","Math","floor","random","ELEMENT_TAG","HTML","IFRAME","SCRIPT","NODE","DEFAULT","ELEMENT_PROP","ID","INNER_HTML","EL","fixScripts","doc","window","document","querySelectorAll","script","parentNode","newScript","createElement","textContent","replaceChild","createTextElement","createTextNode","addProps","prop","val","match","addEventListener","slice","toLowerCase","setAttribute","toString","tagName","id","ADD_CHILDREN","firstChild","win","contentWindow","docElement","documentElement","removeChild","dom","appendChild","addChildren","hasOwnProperty","html","innerHTML","addChildrenToElement","opts","domRenderer","_extends","assign","target","i","arguments","source","key","prototype","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","mapReactProps","className","class","remainingProps","dangerouslySetInnerHTML","__html","react","React","reactRenderer","SELF_CLOSING_TAGS","br","htmlEncode","propsToHTML","filter","pairs","map","join","htmlRenderer","concat","renderedProps","renderedChildren","mapPreactProps","preact","Preact","h"],"mappings":"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","file":"jsx-pragmatic.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pragmatic\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pragmatic\"] = factory();\n\telse\n\t\troot[\"pragmatic\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* @flow */\n\nexport const NODE_TYPE = {\n    ELEMENT:   ('element' : 'element'),\n    TEXT:      ('text' : 'text'),\n    COMPONENT: ('component' : 'component'),\n    FRAGMENT:  ('fragment' : 'fragment')\n};\n","/* @flow */\n\nimport { NODE_TYPE } from './constants';\n\nexport type NodePropsType = {\n    [string] : any // eslint-disable-line flowtype/no-weak-types\n};\n\nexport type EmptyProps = {||};\n\nexport type NodeRenderer<N, O> = (N) => O;\nexport type NodeRendererFactory<L, N, O> = (L) => NodeRenderer<N, O>;\n\nexport type NodeType = ElementNode | TextNode | FragmentNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildNodeType = ElementNode | TextNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildType = ChildNodeType | string | $ReadOnlyArray<ChildType>;\nexport type ChildrenType = $ReadOnlyArray<ChildNodeType>;\nexport type NullableChildType = $ReadOnlyArray<ChildType> | ChildNodeType | string | null | void;\nexport type NullableChildrenType = $ReadOnlyArray<NullableChildrenType | ChildNodeType | string | null | void>;\n\nexport type ComponentFunctionType<P> = (P, ChildrenType) => NullableChildType;\n\nexport type CreateElementNode<P : NodePropsType> = (string, P | null, ...NullableChildrenType) => ElementNode; // eslint-disable-line no-use-before-define\nexport type CreateComponentNode<P : NodePropsType> = (ComponentFunctionType<P>, P | null, ...NullableChildrenType) => ComponentNode<P>; // eslint-disable-line no-use-before-define\nexport type CreateNode<P : NodePropsType> = CreateElementNode<P> & CreateComponentNode<P>;\n\nfunction renderChildren<T>(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>, renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> { // eslint-disable-line no-use-before-define\n    const result = [];\n\n    for (const child of children) {\n        const renderedChild = child.render(renderer);\n\n        if (!renderedChild) {\n            continue;\n        } else if (Array.isArray(renderedChild)) {\n            for (const subchild of renderedChild) {\n                if (subchild) {\n                    result.push(subchild);\n                }\n            }\n        } else {\n            result.push(renderedChild);\n        }\n    }\n\n    return result;\n}\n\nexport class ElementNode {\n    type : (typeof NODE_TYPE.ELEMENT) = NODE_TYPE.ELEMENT\n\n    name : string\n    props : NodePropsType\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> // eslint-disable-line no-use-before-define\n    onRender : ?<T>(T) => void // eslint-disable-line no-undef\n\n    constructor(name : string, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.name = name;\n        this.props = props;\n        this.children = children;\n\n        const onRender = props.onRender;\n        if (typeof onRender === 'function') {\n            this.onRender = onRender;\n            delete props.onRender;\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        const el = renderer(this);\n        if (this.onRender) {\n            this.onRender(el);\n        }\n        return el;\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class FragmentNode {\n    type : (typeof NODE_TYPE.FRAGMENT) = NODE_TYPE.FRAGMENT\n\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> // eslint-disable-line no-use-before-define\n\n    constructor(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.children = children;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class TextNode {\n    type : (typeof NODE_TYPE.TEXT) = NODE_TYPE.TEXT\n\n    text : string\n\n    constructor(text : string) {\n        this.text = text;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n}\n\nexport class ComponentNode<P : NodePropsType> {\n    type : (typeof NODE_TYPE.COMPONENT) = NODE_TYPE.COMPONENT\n\n    component : ComponentFunctionType<P>\n    props : NodePropsType\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>\n\n    constructor(component : ComponentFunctionType<P>, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) {\n        this.component = component;\n        this.props = props;\n        this.children = children;\n    }\n\n    renderComponent(renderer : NodeRenderer<*, *>) : * {\n        // $FlowFixMe\n        const props : P = this.props;\n        const child = normalizeChild(this.component(props, this.children)); // eslint-disable-line no-use-before-define\n        if (child) {\n            return child.render(renderer);\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nfunction normalizeChildren(children : NullableChildrenType) : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> {\n    const result = [];\n\n    for (const child of children) {\n        if (!child) {\n            continue;\n        } else if (typeof child === 'string') {\n            result.push(new TextNode(child));\n        } else if (Array.isArray(child)) {\n            for (const subchild of normalizeChildren(child)) {\n                result.push(subchild);\n            }\n        } else if (child && (child.type === NODE_TYPE.ELEMENT || child.type === NODE_TYPE.TEXT || child.type === NODE_TYPE.COMPONENT)) {\n            result.push(child);\n    \n        } else {\n            throw new TypeError(`Unrecognized node type: ${ typeof child }`);\n        }\n    }\n\n    return result;\n}\n\nfunction normalizeChild(child) : ElementNode | TextNode | ComponentNode<*> | FragmentNode | void {\n    const children = normalizeChildren(Array.isArray(child) ? child : [ child ]);\n\n    if (children.length === 1) {\n        return children[0];\n    } else if (children.length > 1) {\n        return new FragmentNode(children);\n    }\n}\n\nexport const node : CreateNode<*> = (element, props, ...children) => {\n    // $FlowFixMe\n    props = props || {};\n    children = normalizeChildren(children);\n\n    if (typeof element === 'string') {\n        // $FlowFixMe\n        return new ElementNode(element, props, children);\n    }\n    \n    if (typeof element === 'function') {\n        // $FlowFixMe\n        return new ComponentNode(element, props, children);\n    }\n\n    throw new TypeError(`Expected jsx element to be a string or a function`);\n};\n\nexport const Fragment : ComponentFunctionType<EmptyProps> = (props : NodePropsType, children : ChildrenType) : NullableChildType => {\n    if (props && Object.keys(props).length) {\n        throw new Error(`Do not pass props to Fragment`);\n    }\n\n    return children;\n};\n","/* @flow */\n\nconst ALPHA_CHARS = '0123456789abcdef';\n\nexport function uniqueID() : string {\n    return 'xxxxxxxxxx'.replace(/./g, () => ALPHA_CHARS.charAt(Math.floor(Math.random() * ALPHA_CHARS.length)));\n}\n","/* @flow */\n\nimport { ComponentNode, TextNode, type NodeRenderer, ElementNode } from '../node';\nimport { NODE_TYPE } from '../constants';\nimport { uniqueID } from '../util';\n\ntype DomNodeRenderer = NodeRenderer<ElementNode, HTMLElement>;\ntype DomTextRenderer = NodeRenderer<TextNode, Text>;\ntype DomComponentRenderer = NodeRenderer<ComponentNode<*>, HTMLElement | TextNode | $ReadOnlyArray<HTMLElement | TextNode> | void>;\ntype DomRenderer = DomComponentRenderer & DomNodeRenderer & DomTextRenderer;\n\nconst ELEMENT_TAG = {\n    HTML:    'html',\n    IFRAME:  'iframe',\n    SCRIPT:  'script',\n    NODE:    'node',\n    DEFAULT: 'default'\n};\n\nconst ELEMENT_PROP = {\n    ID:         'id',\n    INNER_HTML: 'innerHTML',\n    EL:         'el'\n};\n\nfunction fixScripts(el : HTMLElement, doc : Document = window.document) {\n    for (const script of el.querySelectorAll('script')) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        // $FlowFixMe\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\nfunction createElement(doc : Document, node : ElementNode) : HTMLElement {\n    if (node.props[ELEMENT_PROP.EL]) {\n        // $FlowFixMe\n        return node.props[ELEMENT_PROP.EL];\n    }\n\n    return doc.createElement(node.name);\n}\n\nfunction createTextElement(doc : Document, node : TextNode) : Text {\n    return doc.createTextNode(node.text);\n}\n\nfunction addProps(el : HTMLElement, node) {\n    const props = node.props;\n\n    for (const prop of Object.keys(props)) {\n        const val = props[prop];\n\n        if (val === null || typeof val === 'undefined' || prop === ELEMENT_PROP.EL || prop === ELEMENT_PROP.INNER_HTML) {\n            continue;\n        }\n\n        if (prop.match(/^on[A-Z][a-z]/) && typeof val === 'function') {\n            el.addEventListener(prop.slice(2).toLowerCase(), val);\n        } else if (typeof val === 'string' || typeof val === 'number') {\n            el.setAttribute(prop, val.toString());\n\n        } else if (typeof val === 'boolean') {\n            if (val === true) {\n                el.setAttribute(prop, '');\n            }\n        }\n    }\n\n    if (el.tagName.toLowerCase() === ELEMENT_TAG.IFRAME && !props.id) {\n        el.setAttribute(ELEMENT_PROP.ID, `jsx-iframe-${ uniqueID() }`);\n    }\n}\nconst ADD_CHILDREN : { [string] : (HTMLElement, ElementNode, DomNodeRenderer) => void } = {\n\n    [ ELEMENT_TAG.IFRAME ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.ELEMENT) || firstChild.name !== ELEMENT_TAG.HTML) {\n            throw new Error(`Expected only single html element node as child of ${ ELEMENT_TAG.IFRAME } element`);\n        }\n    \n        el.addEventListener('load', () => {\n\n            // $FlowFixMe\n            const win = el.contentWindow;\n    \n            if (!win) {\n                throw new Error(`Expected frame to have contentWindow`);\n            }\n\n            const doc = win.document;\n            const docElement = doc.documentElement;\n\n            while (docElement.children && docElement.children.length) {\n                docElement.removeChild(docElement.children[0]);\n            }\n\n            // eslint-disable-next-line no-use-before-define\n            const child : HTMLElement = firstChild.render(dom({ doc }));\n        \n            while (child.children.length) {\n                docElement.appendChild(child.children[0]);\n            }\n        });\n    },\n\n    [ ELEMENT_TAG.SCRIPT ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.TEXT)) {\n            throw new Error(`Expected only single text node as child of ${ ELEMENT_TAG.SCRIPT } element`);\n        }\n        \n        // $FlowFixMe\n        el.text = firstChild.text;\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: (el, node, renderer) => {\n        for (const child of node.renderChildren(renderer)) {\n            el.appendChild(child);\n        }\n    }\n};\n\nfunction addChildren(el : HTMLElement, node : ElementNode, doc : Document, renderer : DomNodeRenderer) {\n    if (node.props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n\n        if (node.children.length) {\n            throw new Error(`Expected no children to be passed when ${ ELEMENT_PROP.INNER_HTML } prop is set`);\n        }\n\n        const html = node.props[ELEMENT_PROP.INNER_HTML];\n\n        if (typeof html !== 'string') {\n            throw new TypeError(`${ ELEMENT_PROP.INNER_HTML } prop must be string`);\n        }\n\n        if (node.name === ELEMENT_TAG.SCRIPT) {\n            // $FlowFixMe\n            el.text = html;\n        } else {\n            el.innerHTML = html;\n            fixScripts(el, doc);\n        }\n\n    } else {\n        const addChildrenToElement = ADD_CHILDREN[node.name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n        addChildrenToElement(el, node, renderer);\n    }\n}\n\nexport function dom(opts? : { doc? : Document } = {}) : DomRenderer {\n    const { doc = document } = opts;\n    \n    const domRenderer : DomRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return node.renderComponent(domRenderer);\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            // $FlowFixMe\n            return createTextElement(doc, node);\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const el = createElement(doc, node);\n            addProps(el, node);\n            addChildren(el, node, doc, domRenderer);\n            // $FlowFixMe\n            return el;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return domRenderer;\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/* @flow */\n\nimport type { Node } from 'react'; // eslint-disable-line import/no-unresolved\n\nimport { ComponentNode, TextNode, ElementNode, type NodeRenderer, type NodePropsType } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype ReactType = {|\n    createElement : Function\n|};\n\ntype ReactRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, Node | string | null>;\n\nfunction mapReactProps(props : NodePropsType) : NodePropsType {\n    const { innerHTML, class: className, ...remainingProps } = props;\n\n    const dangerouslySetInnerHTML = innerHTML\n        ? { __html: innerHTML }\n        : null;\n\n    return {\n        dangerouslySetInnerHTML,\n        className,\n        ...remainingProps\n    };\n}\n\nexport function react({ React } : { React : ReactType } = {}) : ReactRenderer {\n    if (!React) {\n        throw new Error(`Must pass React library to react renderer`);\n    }\n    \n    const reactRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return React.createElement(() => (node.renderComponent(reactRenderer) || null), node.props, ...node.renderChildren(reactRenderer));\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            return React.createElement(node.name, mapReactProps(node.props), ...node.renderChildren(reactRenderer));\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            return node.text;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return reactRenderer;\n}\n","/* @flow */\n\nimport { ComponentNode, TextNode, ElementNode, type NodePropsType, type NodeRenderer } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype HTMLRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, string>;\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML'\n};\n\nconst SELF_CLOSING_TAGS = {\n    br: true\n};\n\nfunction htmlEncode(text : string) : string {\n    return text\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nfunction propsToHTML(props : NodePropsType) : string {\n\n    const keys = Object.keys(props).filter(key => {\n        const val = props[key];\n\n        if (key === ELEMENT_PROP.INNER_HTML) {\n            return false;\n        }\n\n        if (!val) {\n            return false;\n        }\n\n        if (typeof val === 'string' || typeof val === 'number' || val === true) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!keys.length) {\n        return '';\n    }\n\n    const pairs = keys.map(key => {\n        const val = props[key];\n\n        if (val === true) {\n            return `${ htmlEncode(key) }`;\n        }\n\n        if (typeof val !== 'string' && typeof val !== 'number') {\n            throw new TypeError(`Unexpected prop type: ${ typeof val }`);\n        }\n\n        return `${ htmlEncode(key) }=\"${ htmlEncode(val.toString()) }\"`;\n    });\n\n    return ` ${ pairs.join(' ') }`;\n}\n\nexport function html() : HTMLRenderer {\n\n    const htmlRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return [].concat(node.renderComponent(htmlRenderer)).join('');\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const renderedProps = propsToHTML(node.props);\n\n            if (SELF_CLOSING_TAGS[node.name]) {\n                return `<${ node.name }${ renderedProps } />`;\n            } else {\n                const renderedChildren = (typeof node.props[ELEMENT_PROP.INNER_HTML] === 'string')\n                    ? node.props[ELEMENT_PROP.INNER_HTML]\n                    : node.renderChildren(htmlRenderer).join('');\n                    \n                return `<${ node.name }${ renderedProps }>${ renderedChildren }</${ node.name }>`;\n            }\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            return htmlEncode(node.text);\n        }\n\n        throw new TypeError(`Unhandleable node: ${ node.type }`);\n    };\n\n    return htmlRenderer;\n}\n","/* @flow */\n\nimport type { Node } from 'react'; // eslint-disable-line import/no-unresolved\n\nimport { ComponentNode, TextNode, ElementNode, type NodeRenderer, type NodePropsType } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype PreactType = {|\n    h : Function\n|};\n\ntype PreactRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, Node | string | null>;\n\nfunction mapPreactProps(props : NodePropsType) : NodePropsType {\n    const { innerHTML, ...remainingProps } = props;\n\n    const dangerouslySetInnerHTML = innerHTML\n        ? { __html: innerHTML }\n        : null;\n\n    return {\n        dangerouslySetInnerHTML,\n        ...remainingProps\n    };\n}\n\nexport function preact({ Preact } : { Preact : PreactType } = {}) : PreactRenderer {\n    if (!Preact) {\n        throw new Error(`Must pass Preact library to react renderer`);\n    }\n    \n    const reactRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return Preact.h(() => (node.renderComponent(reactRenderer) || null), node.props, ...node.renderChildren(reactRenderer));\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            return Preact.h(node.name, mapPreactProps(node.props), ...node.renderChildren(reactRenderer));\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            return node.text;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return reactRenderer;\n}\n","/* @flow */\n\nexport * from './dom';\nexport * from './react';\nexport * from './html';\nexport * from './preact';\n","/* @flow */\n\nexport * from './node';\nexport * from './renderers';\nexport * from './constants';\n"],"sourceRoot":""}